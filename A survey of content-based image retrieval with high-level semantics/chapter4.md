## 4. Cơ sở dữ liệu ảnh và đánh giá hiệu suất
Cho đến nay, chưa có dữ liệu kiểm thử và mô hình PE chuẩn cho các hệ thống CBIR.
### 4.1. Cơ sở dữ liệu ảnh 
Trong các bài báo được khảo sát, hơn một nửa số hệ thống sử dụng một tập con của bộ dữ liệu ảnh Corel để kiểm tra hiệu suất truy xuất, các hệ thống khác sử dụng ảnh tự thu thập hoặc các bộ ảnh khác như ảnh tài nguyên LA, cơ sở dữ liệu ảnh tiêu dùng Kodak. Các kết cấu Brodatz được sử dụng rộng rãi trong các nghiên cứu đặc trưng kết cấu cảm nhận. Các ảnh thu thập từ Internet phục vụ như một nguồn dữ liệu khác, đặc biệt đối với các hệ thống nhắm mục tiêu vào truy xuất ảnh Web.
Nhiều nhà nghiên cứu có xu hướng sử dụng hình ảnh phong cảnh tự nhiên làm bộ dữ liệu thử nghiệm để trích xuất ngữ nghĩa vì những hình ảnh như vậy dễ phân tích hơn các hình ảnh khác. Có hai lý do. Thứ nhất, các loại đối tượng bị hạn chế. Các loại đối tượng phong cảnh chính bao gồm bầu trời, cây cối, tòa nhà, núi, cỏ, nước và tuyết, v.v.. Thứ hai, so với các đặc trưng khác của vùng hình ảnh, các đặc trưng hình dạng ít quan trọng hơn trong việc phân tích hình ảnh phong cảnh so với các hình ảnh khác. Do đó, chúng ta có thể tránh được điểm yếu trong việc trích xuất ngữ nghĩa cấp cao từ các đặc trưng hình dạng do sự không chính xác của phân đoạn.
Cơ sở dữ liệu hình ảnh Corel chứa một lượng lớn hình ảnh với nhiều nội dung khác nhau, từ động vật và thể thao ngoài trời đến phong cảnh tự nhiên. Những hình ảnh này được các chuyên gia lĩnh vực phân loại trước thành các danh mục khác nhau với kích thước 100 ảnh. Một số nhà nghiên cứu cho rằng bộ dữ liệu hình ảnh Corel đáp ứng tất cả các yêu cầu để đánh giá một hệ thống truy xuất hình ảnh, vì kích thước lớn, nội dung đa dạng và có sẵn ground truth được chú thích thủ công. Nhưng một số nhà nghiên cứu khác lại cho rằng cơ sở dữ liệu hình ảnh Corel không phù hợp để đánh giá hiệu suất CBIR vì ground truth liên quan (nhãn danh mục) thường quá cấp cao để hữu ích trong phân tích hiệu suất. Mặc dù vẫn còn gây tranh cãi về việc bộ dữ liệu hình ảnh Corel có phù hợp để đánh giá hiệu suất CBIR hay không, nhưng đây là bộ dữ liệu được sử dụng rộng rãi nhất cho đến nay.
Theo ý kiến của chúng tôi, cơ sở dữ liệu ảnh Corel tốt vì kích thước lớn và nội dung đa dạng sẵn có. Tuy nhiên, để sử dụng cho việc đánh giá hiệu suất CBIR, một số công việc tiền xử lý là cần thiết vì hai lý do sau: (1) một số hình ảnh có nội dung tương tự được chia thành các danh mục khác nhau. Ví dụ, các hình ảnh trong ‘Ballon1’ và ‘Ballon2’ thực tế thuộc cùng một danh mục, tương tự đối với danh mục ‘Cuisine’ và ‘Cuisines’; (2) một số ‘nhãn danh mục’ rất trừu tượng và các hình ảnh trong cùng một danh mục có thể rất đa dạng về nội dung. Ví dụ, danh mục ‘Australia’ bao gồm các bức ảnh về tòa nhà thành phố, đám đông trên đường phố, động vật hoang dã Úc, v.v.. Hình 10 đưa ra một vài ví dụ. Rất khó để đo độ tương đồng hình ảnh trong các nhóm như vậy.
Do đó, việc chọn một tập con các hình ảnh này làm ground truth, hoặc thực hiện một số thay đổi cần thiết trong việc thiết lập dữ liệu ground truth là phù hợp. Xem xét các vấn đề đã đề cập ở trên trong cơ sở dữ liệu hình ảnh Corel, trong tài liệu, một bộ dữ liệu tham chiếu mới được trình bày để đánh giá các thuật toán truy xuất hình ảnh. Các tác giả đã thu thập một bộ dữ liệu lớn các đánh giá của con người về kết quả truy xuất, cả đối với truy vấn bằng hình ảnh ví dụ và truy vấn bằng văn bản. Miền dữ liệu là 16.000 hình ảnh từ bộ dữ liệu Corel. Tổng cộng 20.000 cặp truy vấn-kết quả đã được đánh giá cho truy vấn bằng hình ảnh ví dụ, và 5000 cặp cho truy vấn bằng văn bản. Dữ liệu được tuyên bố là độc lập với bất kỳ thuật toán truy xuất hình ảnh cụ thể nào và có thể được sử dụng để so sánh nhiều thuật toán mà không cần thu thập dữ liệu thêm. Dữ liệu và phần mềm hiệu chuẩn có sẵn trực tuyến tại [http://kobus.ca/research/data.](http://kobus.ca/research/data.)
Đối với truy xuất video, dữ liệu kiểm thử tiêu chuẩn có sẵn từ đánh giá truy xuất video TREC (TRECVID). Chuỗi hội nghị TREC được tài trợ chủ yếu bởi Viện Tiêu chuẩn và Công nghệ Quốc gia (NIST) để khuyến khích nghiên cứu trong truy xuất thông tin bằng cách cung cấp bộ sưu tập kiểm thử lớn, quy trình chấm điểm thống nhất và một diễn đàn cho các tổ chức quan tâm đến việc so sánh kết quả của họ. Năm 2001 và 2002, một "track" video được tài trợ cho nghiên cứu về phân đoạn, lập chỉ mục và truy xuất nội dung video kỹ thuật số tự động. Từ năm 2003, track này trở thành một workshop đánh giá độc lập hai ngày trước hội nghị TREC.

### 4.2. Từ vựng
Để tìm một từ vựng "lý tưởng" đại diện cho ngữ nghĩa phong phú của hình ảnh không phải là một nhiệm vụ dễ dàng. Trong tài liệu, các thí nghiệm tâm lý vật lý được thực hiện để có được cái nhìn sâu sắc về các danh mục ngữ nghĩa hướng dẫn nhận thức của con người về độ tương đồng hình ảnh. Bằng cách phân tích dữ liệu nhận thức, 20 danh mục ngữ nghĩa quan trọng nhất (ví dụ: chân dung, đám đông, cảnh thành phố) trong nhận thức về độ tương đồng hình ảnh đã được thiết lập. Sau đó, 40 đặc trưng cấp thấp đã được khám phá để mô tả tốt nhất từng danh mục, chẳng hạn như số lượng vùng, thành phần màu sắc, số lượng cạnh và sự hiện diện của đối tượng trung tâm. Trong tài liệu, các tác giả thiết lập cái gọi là "hàm cơ sở từ vựng" chứa 98 từ để biểu diễn hình ảnh. Trong tài liệu, một hệ thống tham chiếu từ vựng trực tuyến "WordNet" được mô tả. "WordNet" tổ chức các từ tiếng Anh thành các tập hợp từ đồng nghĩa, mỗi tập hợp đại diện cho một khái niệm từ vựng cơ bản. Đây là một "từ điển" dựa trên các nguyên tắc tâm lý học ngôn ngữ để việc tìm kiếm có thể được thực hiện theo khái niệm thay vì theo thứ tự chữ cái.
<p align="center">
  <img src="/figures/fig10.png" alt="Hình 10. Ví dụ hình ảnh Corel từ danh mục 'Australia'." width="500"/>
  <br>
  <em>Hình 10. Ví dụ hình ảnh Corel từ danh mục 'Australia'. </em>
</p>
Tiêu chí chính trong việc lựa chọn một tập hợp các danh mục là đảm bảo rằng chúng được định nghĩa đủ rõ ràng về các mô tả hình ảnh và đủ tổng quát để mang lại các liên kết ngữ nghĩa có ý nghĩa. Từ vựng được sử dụng trong một hệ thống phụ thuộc chủ yếu vào bộ dữ liệu hình ảnh được sử dụng. Đối với hình ảnh phong cảnh tự nhiên, thông thường các hình ảnh được phân loại thành khoảng 10–20 danh mục bao gồm nước, bầu trời, cây, cát, cỏ, núi, tuyết, v.v.. Ví dụ, trong tài liệu, 11 danh mục được chọn: gạch, mây, lông, cỏ, băng, đường, đá, cát, da, cây và nước. Trong tài liệu, 10 danh mục ngữ nghĩa được định nghĩa: bãi biển, tòa nhà, Disneyland, sa mạc, núi, đường cao tốc, trung tâm thành phố, công viên, con người và không xác định. Trong tài liệu, các tác giả thảo luận về việc xác định sáu đặc trưng phong cảnh cấp cao: bầu trời, tòa nhà, cây, sóng nước, mặt nước lặng và mặt đất.
Tuy nhiên, đối với truy xuất cơ sở dữ liệu ảnh trong thế giới thực, bộ từ vựng nhỏ như vậy là chưa đủ. Người ta tin rằng con người có thể nhận dạng khoảng 5000–30.000 danh mục đối tượng. Việc học danh mục với bộ từ vựng lớn như vậy rất khó khăn và vẫn còn nhiều công việc cần được thực hiện trong lĩnh vực này. Trong tài liệu, một thuật toán Bayesian tăng dần đã được phát triển để nhận dạng 101 danh mục đối tượng. Theo hiểu biết của chúng tôi, đây là bộ từ vựng lớn nhất được sử dụng trong nhận dạng đối tượng cho đến nay. 

### 4.3. Đánh giá hiệu suất
Thông thường, độ chính xác (precision) và độ thu hồi (recall) được sử dụng trong hệ thống CBIR để đo lường hiệu suất truy xuất. Độ chính xác (Pr) được định nghĩa là tỷ lệ giữa số lượng hình ảnh liên quan được truy xuất (Nr) với tổng số hình ảnh được truy xuất K. Độ thu hồi (Re) được định nghĩa là số lượng hình ảnh liên quan được truy xuất Nr chia cho tổng số hình ảnh liên quan có sẵn trong cơ sở dữ liệu Nt 
$Re = N_r/N_t , Pr =N_r/K$       (5) 
Việc có cả Pr và Re cao là "lý tưởng". Do đó, thay vì sử dụng Pr hoặc Re riêng lẻ, thông thường một đường cong Pr(Re) chung được sử dụng để đặc trưng cho hiệu suất của hệ thống truy xuất ảnh.
Vì độ thu hồi thường thấp trong hệ thống truy xuất ảnh màu, đường cong Pr(Re) ít có ý nghĩa hơn so với trong các hệ thống truy xuất dựa trên văn bản. Nhiều nhà nghiên cứu đang áp dụng đường cong độ chính xác-phạm vi để đánh giá hiệu suất truy xuất ảnh. Phạm vi (Sc) chỉ định số lượng ảnh trả về cho người dùng, tức là K trong Eq. (5). Đối với một phạm vi Sc cụ thể, Pr(Sc) có thể được tính bằng 
$Pr(Sc) = Nr/Sc.$ (6) 
Một thước đo hiệu suất khác được sử dụng là thước đo thứ hạng (Ra) . Thước đo thứ hạng được định nghĩa là thứ hạng trung bình của các hình ảnh được truy xuất. Rõ ràng là thứ hạng càng nhỏ, hiệu suất càng tốt.
Trong khi Pr(Sc) chỉ quan tâm đến việc một hình ảnh liên quan có được truy xuất hay không, Ra(Sc) cũng quan tâm đến thứ hạng của hình ảnh được truy xuất. Giả sử có hai hệ thống truy xuất, 'system1' và 'system2'. Nếu $Pr_1(Sc) > Pr_2(Sc)$ và $Ra_1(Sc) < Ra2(Sc)$, thì chắc chắn 'system1' tốt hơn 'system2'. Tuy nhiên, nếu $Pr_1(Sc) > Pr2(Sc)$ và $Ra_1(Sc) > Ra_2(Sc)$, chúng ta không thể nói hệ thống nào tốt hơn. 